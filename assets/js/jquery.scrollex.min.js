!function(s){function u(t,e,n){return"string"==typeof t&&("%"==t.slice(-1)?t=parseInt(t.substring(0,t.length-1))/100*e:"vh"==t.slice(-2)?t=parseInt(t.substring(0,t.length-2))/100*n:"px"==t.slice(-2)&&(t=parseInt(t.substring(0,t.length-2)))),t}var h=s(window),r=1,a={};h.on("scroll",function(){var e=h.scrollTop();s.map(a,function(t){window.clearTimeout(t.timeoutId),t.timeoutId=window.setTimeout(function(){t.handler(e)},t.options.delay)})}).on("load",function(){h.trigger("scroll")}),jQuery.fn.scrollex=function(t){var e,n,i,o=s(this);if(0==this.length)return o;if(1<this.length){for(var l=0;l<this.length;l++)s(this[l]).scrollex(t);return o}if(o.data("_scrollexId"))return o;switch(e=r++,(i=jQuery.extend({top:0,bottom:0,delay:0,mode:"default",enter:null,leave:null,initialize:null,terminate:null,scroll:null},t)).mode){case"top":n=function(t,e,n,i,o){return i<=t&&t<=o};break;case"bottom":n=function(t,e,n,i,o){return i<=n&&n<=o};break;case"middle":n=function(t,e,n,i,o){return i<=e&&e<=o};break;case"top-only":n=function(t,e,n,i,o){return t<=i&&i<=n};break;case"bottom-only":n=function(t,e,n,i,o){return o<=n&&t<=o};break;default:n=function(t,e,n,i,o){return i<=n&&t<=o}}return i={id:e,options:i,test:n,handler:function(t){var e=this.state,n=!1,i=this.$element.offset(),o=h.height(),l=t+o/2,s=t+o,r=this.$element.outerHeight(),a=i.top+u(this.options.top,r,o),o=i.top+r-u(this.options.bottom,r,o);(n=this.test(t,l,s,a,o))!=e&&((this.state=n)?this.options.enter&&this.options.enter.apply(this.element):this.options.leave&&this.options.leave.apply(this.element)),this.options.scroll&&this.options.scroll.apply(this.element,[(l-a)/(o-a)])},state:null,element:this,$element:o,timeoutId:null},a[e]=i,o.data("_scrollexId",i.id),i.options.initialize&&i.options.initialize.apply(this),o},jQuery.fn.unscrollex=function(){var t,e,n=s(this);if(0==this.length)return n;if(1<this.length){for(var i=0;i<this.length;i++)s(this[i]).unscrollex();return n}return(t=n.data("_scrollexId"))&&(e=a[t],window.clearTimeout(e.timeoutId),delete a[t],n.removeData("_scrollexId"),e.options.terminate&&e.options.terminate.apply(this)),n}}(jQuery);